#!/usr/bin/env python3

# Add a synthetic HEADER line for a PDB file.
# Some tools cannot work without it, thus 

import argparse, re

parser = argparse.ArgumentParser()
parser.add_argument('files', nargs='*')
parser.add_argument('--id', help='Use the specified PDB ID')
args = parser.parse_args()

for pdb in args.files:
    id = None
    if args.id:
        id = args.id
    else:
        match = re.search('^(\S+/)?(....)\.pdb$',pdb)
        id = match.group(2)
    print('HEADER    ?                                       ?           ', id, sep='')
    print(*open(pdb,'r').readlines(), sep='', end='')
