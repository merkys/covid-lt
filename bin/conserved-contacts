#!/usr/bin/Rscript --vanilla

library( "optparse" )
parser <- OptionParser()
options = parse_args(parser, positional_arguments = TRUE)

file = '/dev/stdin'
files = options$args
if( length(files) != 0 ) {
    file = files[1]
}

D = read.csv(file, header=TRUE, sep="\t", na.strings="?")

for (i in 1:dim(D)[1]) {
    cat(length(D[i,!is.na(D[i,])]) / length(D[i,]), "\n")
}
